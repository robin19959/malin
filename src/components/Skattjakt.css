/* Specialiserad styling f√∂r Skattjakt - para ihop + finish */
.skattjakt-container { /* base layout, gradient already declared in shared */
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 100vh;
  background: var(--gradient-bg);
  padding: calc(var(--spacing) * 1.5) 0 var(--app-bottom-buffer); /* unified bottom spacing */
  box-sizing: border-box;
}

/* Pair layout */
.pair-layout {
  display: flex;
  gap: 28px;
  margin-top: 24px;
  flex-wrap: wrap;
  justify-content: center;
  width: 100%;
  max-width: 880px;
}
.pair-layout.inside-box { max-width: 100%; margin-top: 18px; }
.side-columns { flex-direction: column; }
.pair-columns-simple {
  display: flex;
  gap: 14px;
  justify-content: center;
  align-items: flex-start;
  width: 100%;
}
.images-stack, .words-stack {
  display: flex;
  flex-direction: column;
  gap: 12px;
  flex: 1 1 0;
  max-width: 186px;
}
.pair-box {
  background: linear-gradient(145deg,#ffffff,#f7f2ff);
  border: 2px solid #e2d6f6;
  border-radius: var(--radius-sm);
  box-shadow: var(--shadow-sm);
  padding: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 86px;
  cursor: pointer;
  position: relative;
  transition: border .18s, background .25s, transform .15s, box-shadow .25s;
}
.pair-box img { width: 100%; height: 100%; object-fit: cover; border-radius: var(--radius-sm); }
.word-box { font-weight: 700; font-size: .9rem; letter-spacing: .5px; }
.word-box .word-label { text-transform: uppercase; }
.pair-box.selected { border-color: var(--color-primary); background: linear-gradient(145deg,#f3e6ff,#ede0ff); box-shadow: 0 4px 14px rgba(162,89,255,0.25); }
.pair-box.used { opacity: .45; cursor: default; filter: grayscale(30%); }
.pair-box:hover:not(.used):not(.selected) { transform: translateY(-3px); box-shadow: 0 4px 12px rgba(162,89,255,0.20); }

/* Compact matches */

@media (max-width: 520px) {
  .pair-columns-simple { flex-direction: row; flex-wrap: wrap; }
  .images-stack, .words-stack { max-width: 48%; }
  .pair-box { height: 74px; }
  .pair-match-box.compact { font-size: .7rem; }
  .pair-match-box.compact .match-img-wrapper { width: 30px; height: 30px; }
}
.pair-images-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 14px;
  width: 100%;
  justify-items: center;
}
.pair-helper {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
  gap: 10px;
  margin-bottom: 12px;
}
.helper-text {
  background: #ffffff;
  padding: 8px 14px;
  border-radius: var(--radius-sm);
  font-size: .82rem;
  font-weight: 600;
  letter-spacing: .3px;
  box-shadow: var(--shadow-sm);
  color: var(--color-primary-dark);
}
.helper-text.ready { background: #f3e6ff; }
.clear-selection-btn {
  background: #fff;
  border: 2px solid var(--color-primary);
  color: var(--color-primary);
  padding: 6px 14px;
  border-radius: var(--radius-sm);
  font-size: .75rem;
  font-weight: 600;
  cursor: pointer;
  letter-spacing: .4px;
  box-shadow: var(--shadow-sm);
  transition: background .2s, color .2s, transform .15s;
}
.clear-selection-btn:hover { background: var(--color-primary); color:#fff; }
.clear-selection-btn:active { transform: scale(.95); }
.pair-words-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 18px;
  justify-content: center;
}
.matches-heading {
  font-size: .85rem;
  font-weight: 700;
  letter-spacing: .4px;
  padding: 4px 10px;
  background: #ffffff;
  border-radius: var(--radius-sm);
  box-shadow: var(--shadow-sm);
  width: fit-content;
}
.pair-words-row .pair-card-word {
  min-width: 70px;
  padding: 10px 16px;
}
.pair-column {
  display: flex;
  flex-direction: column;
  gap: 14px;
  min-width: 160px;
}
.pair-card-img, .pair-card-word {
  background: linear-gradient(135deg,#ffffff,#f8f3ff);
  border-radius: var(--radius-sm);
  padding: 12px 16px;
  box-shadow: var(--shadow-sm);
  cursor: pointer;
  border: 2px solid #e5d9f9;
  font-weight: 600;
  letter-spacing: .4px;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 74px;
  position: relative;
  transition: border .18s, background .25s, transform .15s, box-shadow .25s;
}
.pair-card-img.used, .pair-card-word.used { opacity: .44; cursor: default; filter: grayscale(30%); }
.pair-card-img.selected, .pair-card-word.selected { border-color: var(--color-primary); background: linear-gradient(135deg,#f3e6ff,#ede0ff); box-shadow: 0 4px 14px rgba(162,89,255,0.25); }
.pair-card-img:hover:not(.used):not(.selected), .pair-card-word:hover:not(.used):not(.selected) { transform: translateY(-3px); box-shadow: 0 4px 12px rgba(162,89,255,0.22); }
.pair-card-img img { width: 54px; height: 54px; object-fit: cover; border-radius: 12px; }
.pair-images-grid .pair-card-img { min-height: 90px; }
/* Overlay text when image missing */
.pair-card-img.img-missing::after {
  content: 'Ingen bild';
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: .7rem;
  font-weight: 700;
  color: var(--color-primary-dark);
  opacity: .7;
}

.pair-matches {
  flex: 1 1 100%;
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-top: 18px;
  max-width: 420px;
  width: 100%;
}

/* Mobiloptimering */
@media (max-width: 420px) {
  .pair-images-grid { gap: 10px; }
  .pair-card-img, .pair-card-word { padding: 10px 12px; min-height: 68px; }
  .pair-card-img img { width: 48px; height: 48px; }
  .pair-words-row .pair-card-word { min-width: 64px; }
  .helper-text { font-size: .75rem; }
  .clear-selection-btn { font-size: .68rem; padding: 5px 10px; }
  .pair-match-box { padding: 10px 40px 10px 12px; }
  .pair-match-box img { width: 48px; height: 48px; }
}
.pair-match-box {
  display: flex;
  align-items: center;
  gap: 14px;
  background: rgba(255,255,255,.95);
  padding: 12px 46px 12px 14px;
  border-radius: var(--radius-sm);
  box-shadow: var(--shadow-sm);
  font-size: 1rem;
  font-weight: 600;
  letter-spacing: .35px;
  position: relative;
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}
.pair-match-box img { width: 56px; height: 56px; object-fit: cover; border-radius: 12px; flex-shrink: 0; }
.pair-match-box span { flex: 1; text-transform: uppercase; }
.remove-pair-btn {
  position: absolute;
  right: 8px;
  top: 8px;
  background: transparent;
  border: none;
  cursor: pointer;
  font-size: 26px;
  line-height: 1;
  padding: 6px 6px 4px;
  color: var(--color-primary);
  font-weight: 800;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: color .2s;
}
.remove-pair-btn:hover { color: var(--color-primary-dark); }
.remove-pair-btn:active { color: #6a1b9a; }

/* Finish styles (question-box base i GameShared.css) */
.finish-box {
  background: var(--color-surface);
  border-radius: var(--radius-md);
  padding: 24px 22px;
  width: min(90vw, 400px);
  box-sizing: border-box;
  box-shadow: var(--shadow-lg);
  text-align: center;
  position: relative;
  overflow: hidden;
}
.finish-heading {
  font-size: 2rem;
  margin: 0 0 12px;
  font-weight: 800;
  background: linear-gradient(90deg,#a259ff,#6a1b9a);
  background-clip: text;
  -webkit-background-clip: text;
  color: transparent;
  letter-spacing: .5px;
}
.finish-sub { font-size: 1.05rem; font-weight: 600; margin-bottom: 18px; }

.confetti { position: absolute; inset: 0; pointer-events: none; }
.confetti span {
  position: absolute;
  top: -10px;
  width: 10px;
  height: 14px;
  background: #a259ff;
  border-radius: 2px;
  animation: fall 3.4s linear infinite;
}
.confetti span:nth-child(3n) { background: #6a1b9a; }
.confetti span:nth-child(4n) { background: #b47cff; }
.confetti span:nth-child(even) { animation-duration: 2.8s; }
.confetti span:nth-child(odd) { animation-duration: 3.8s; }
@keyframes fall {
  0% { transform: translateY(0) rotate(0deg); opacity: 1; }
  80% { opacity: 1; }
  100% { transform: translateY(480px) rotate(240deg); opacity: 0; }
}
.confetti span:nth-child(1) { left: 5%; }
.confetti span:nth-child(2) { left: 12%; }
.confetti span:nth-child(3) { left: 20%; }
.confetti span:nth-child(4) { left: 28%; }
.confetti span:nth-child(5) { left: 36%; }
.confetti span:nth-child(6) { left: 44%; }
.confetti span:nth-child(7) { left: 52%; }
.confetti span:nth-child(8) { left: 60%; }
.confetti span:nth-child(9) { left: 68%; }
.confetti span:nth-child(10) { left: 76%; }
.confetti span:nth-child(11) { left: 84%; }
.confetti span:nth-child(12) { left: 92%; }
.confetti span:nth-child(13) { left: 15%; }
.confetti span:nth-child(14) { left: 25%; }
.confetti span:nth-child(15) { left: 35%; }
.confetti span:nth-child(16) { left: 45%; }
